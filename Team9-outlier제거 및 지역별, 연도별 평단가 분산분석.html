<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="2023-2학기 통계자료분석 1조 김재현">
<meta name="dcterms.date" content="2023-12-06">

<title>outlier제거 및 지역별, 연도별 평단가 분산분석</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Team9_files/libs/clipboard/clipboard.min.js"></script>
<script src="Team9_files/libs/quarto-html/quarto.js"></script>
<script src="Team9_files/libs/quarto-html/popper.min.js"></script>
<script src="Team9_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Team9_files/libs/quarto-html/anchor.min.js"></script>
<link href="Team9_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Team9_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Team9_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Team9_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Team9_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">outlier제거 및 지역별, 연도별 평단가 분산분석</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>2023-2학기 통계자료분석 1조 김재현 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 6, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">December 22, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터 불러오기</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>rawdata <span class="ot">=</span> <span class="fu">read_excel</span>(<span class="st">"./Team_Assignment/Reyeme2.xls"</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>data1 <span class="ot">=</span> <span class="fu">as.data.frame</span>(rawdata)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>data1<span class="sc">$</span>FirstDate <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="fu">as.numeric</span>(<span class="fu">as.character</span>(data1<span class="sc">$</span>FirstDate)),<span class="at">origin=</span><span class="st">"1899-12-30"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in as.Date(as.numeric(as.character(data1$FirstDate)), origin =
"1899-12-30"): NAs introduced by coercion</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data1<span class="sc">$</span>RC <span class="ot">=</span> <span class="fu">as.factor</span>(data1<span class="sc">$</span>RC)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>data1<span class="sc">$</span>Area <span class="ot">=</span> <span class="fu">as.factor</span>(data1<span class="sc">$</span>Area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   456 obs. of  17 variables:
 $ Address  : chr  "73 Allston St" "239 Allston St" "83 Amory St" "107 Antrim St" ...
 $ Unit     : chr  "1" "2" "3" "1" ...
 $ Area     : Factor w/ 16 levels "AG","AH","C",..: 4 4 9 9 9 9 9 9 9 9 ...
 $ AreaCode : num  4 4 9 9 9 9 9 9 9 9 ...
 $ Price1   : num  109000 127000 123000 219000 199000 ...
 $ Price2   : num  109000 127000 100000 210000 189000 ...
 $ SalePrice: num  106000 125000 95000 206000 175000 ...
 $ FirstDate: Date, format: "1993-07-17" "1993-08-21" ...
 $ CloseDate: POSIXct, format: "1993-10-22" "1993-10-22" ...
 $ Days     : num  97 62 208 159 110 116 160 80 157 123 ...
 $ Interior : num  834 850 730 1460 1630 ...
 $ Bed      : num  2 2 2 3 4 2 2 3 3 3 ...
 $ Bath     : num  1 1 1 2 1 1 1 1 1 1 ...
 $ Rooms    : num  4 5 4 6 8 6 6 5 6 6 ...
 $ Condo    : num  70 100 185 100 50 100 100 163 150 100 ...
 $ Tax      : num  490 923 575 1582 1659 ...
 $ RC       : Factor w/ 2 levels "0","1": 1 2 1 2 2 2 2 1 2 2 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 결측값 존재 확인</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(data1))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 9</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>결측값 9개 존재.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 결측값 있는 행 확인</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">rowSums</span>(<span class="fu">is.na</span>(data1)) <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  27 181 248 254 350 368 383 454 455</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>결측값 중 한개를 제외하곤 모두 UNIT 열 값이다. UNIT는 건물내 특정 주거공간을 나타내는 호수(ex 101호, 102호)이다. Reyem Affiar가 구매하려는 건물의 UNIT는 주어져있지 않기 때문에 Reyem Affiar가 구매하려는 건물 가격을 추정하는데에 UNIT 변수는 사용하지 않을 것으로 예상한다. 나머지 한개의 결측값은 First Date에서 나타났으며, 254행에 있다. FirstDate열은 사용할 예정이므로 254행만 제외한다.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#결측값 있는 행 중 254행 제거</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">=</span> data1[<span class="sc">-</span><span class="dv">254</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>data3 <span class="ot">&lt;-</span> <span class="fu">separate</span>(data2, Address, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"AddressNo"</span>, <span class="st">"AddressName"</span>, <span class="st">"Street"</span>), <span class="at">sep =</span> <span class="st">" "</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>data3<span class="sc">$</span>AddressNo <span class="ot">=</span> <span class="fu">as.factor</span>(data3<span class="sc">$</span>AddressNo)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>data3<span class="sc">$</span>AddressName <span class="ot">=</span> <span class="fu">as.factor</span>(data3<span class="sc">$</span>AddressName)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>data3<span class="sc">$</span>Street <span class="ot">=</span> <span class="fu">as.factor</span>(data3<span class="sc">$</span>Street)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: First Date를 연 월 일로 열 나누기</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>data4 <span class="ot">&lt;-</span> <span class="fu">separate</span>(data3, FirstDate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"YearF"</span>, <span class="st">"MonthF"</span>, <span class="st">"DateF"</span>), <span class="at">sep =</span> <span class="st">"-"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>YearF <span class="ot">=</span> <span class="fu">as.factor</span>(data4<span class="sc">$</span>YearF)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>MonthF <span class="ot">=</span> <span class="fu">as.factor</span>(data4<span class="sc">$</span>MonthF)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>DateF <span class="ot">=</span> <span class="fu">as.factor</span>(data4<span class="sc">$</span>DateF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: 평단가 PrPerI 만들기</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>PrPerI <span class="ot">=</span> data4<span class="sc">$</span>SalePrice<span class="sc">/</span>data4<span class="sc">$</span>Interior</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: Bed/Rooms = BedPerR, Bath/Rooms = BathPerR 만들기</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>BedPerR  <span class="ot">=</span> data4<span class="sc">$</span>Bed<span class="sc">/</span>data4<span class="sc">$</span>Rooms</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>data4<span class="sc">$</span>BathPerR <span class="ot">=</span> data4<span class="sc">$</span>Bath<span class="sc">/</span>data4<span class="sc">$</span>Rooms</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   455 obs. of  24 variables:
 $ AddressNo  : Factor w/ 146 levels "1","10","10]",..: 128 57 133 6 8 19 139 97 19 18 ...
 $ AddressName: Factor w/ 112 levels "Allston","Amory",..: 1 1 2 3 3 3 3 3 3 3 ...
 $ Street     : Factor w/ 16 levels "Auburn","Ave",..: 14 14 14 14 14 14 14 14 14 14 ...
 $ Unit       : chr  "1" "2" "3" "1" ...
 $ Area       : Factor w/ 16 levels "AG","AH","C",..: 4 4 9 9 9 9 9 9 9 9 ...
 $ AreaCode   : num  4 4 9 9 9 9 9 9 9 9 ...
 $ Price1     : num  109000 127000 123000 219000 199000 ...
 $ Price2     : num  109000 127000 100000 210000 189000 ...
 $ SalePrice  : num  106000 125000 95000 206000 175000 ...
 $ YearF      : Factor w/ 8 levels "1920","1988",..: 7 7 7 5 6 6 6 7 7 7 ...
 $ MonthF     : Factor w/ 12 levels "01","02","03",..: 7 8 3 3 5 5 8 5 6 9 ...
 $ DateF      : Factor w/ 31 levels "01","02","03",..: 17 21 6 17 28 30 8 18 19 24 ...
 $ CloseDate  : POSIXct, format: "1993-10-22" "1993-10-22" ...
 $ Days       : num  97 62 208 159 110 116 160 80 157 123 ...
 $ Interior   : num  834 850 730 1460 1630 ...
 $ Bed        : num  2 2 2 3 4 2 2 3 3 3 ...
 $ Bath       : num  1 1 1 2 1 1 1 1 1 1 ...
 $ Rooms      : num  4 5 4 6 8 6 6 5 6 6 ...
 $ Condo      : num  70 100 185 100 50 100 100 163 150 100 ...
 $ Tax        : num  490 923 575 1582 1659 ...
 $ RC         : Factor w/ 2 levels "0","1": 1 2 1 2 2 2 2 1 2 2 ...
 $ PrPerI     : num  127 147 130 141 107 ...
 $ BedPerR    : num  0.5 0.4 0.5 0.5 0.5 ...
 $ BathPerR   : num  0.25 0.2 0.25 0.333 0.125 ...</code></pre>
</div>
</div>
<section id="outlier-제거" class="level3">
<h3 class="anchored" data-anchor-id="outlier-제거">outlier 제거</h3>
<section id="saleprice-area-분산분석-모형에서-iqr-1.5이상-극단값" class="level4">
<h4 class="anchored" data-anchor-id="saleprice-area-분산분석-모형에서-iqr-1.5이상-극단값">SalePrice ~ Area 분산분석 모형에서 IQR 1.5이상 극단값</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>M1 <span class="ot">=</span> <span class="fu">aov</span>(PrPerI <span class="sc">~</span> Area, data4)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>ri <span class="ot">=</span> M1<span class="sc">$</span>residuals</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>ri <span class="ot">=</span> M1<span class="sc">$</span>residuals</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(ri <span class="sc">~</span> data4<span class="sc">$</span>Area, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">"residuals"</span>, <span class="at">range=</span> <span class="fl">1.5</span>, <span class="at">boxwex =</span> <span class="fl">0.4</span>) <span class="co"># boxwex는 상자폭을 0.4배 줄이는 옵션</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/M1(data4)%20outlier%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(ri,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(ri)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(ri,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(ri)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">=</span>ri[(ri<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (ri<span class="sc">&gt;</span>Up)]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>outliers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        51         53         55         57         58         59         60 
  82.57763   74.42678   94.26805  137.45936  107.51680   84.29072  209.95649 
        69        145        177        178        179        181        310 
-123.36234   80.64826  -99.66176 -134.24404 -100.25516  -95.16491   84.60077 
       324        326        330        331        332        334        335 
 255.39871  262.67673  100.60020   95.77742   79.81188  124.65282   86.56152 
       338        342        382        402        407        409        410 
 135.23408   87.39039 -153.05070   76.75433 -103.64937  -86.55139  -79.43432 
       411        412        432 
 -88.13910 -103.02495  -97.22748 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>outliers_index <span class="ot">=</span> <span class="fu">which</span>((ri<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (ri<span class="sc">&gt;</span>Up))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>outliers_index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> 51  53  55  57  58  59  60  69 145 177 178 179 181 310 324 326 330 331 332 334 
 51  53  55  57  58  59  60  69 145 177 178 179 181 309 323 325 329 330 331 333 
335 338 342 382 402 407 409 410 411 412 432 
334 337 341 381 401 406 408 409 410 411 431 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>data5 <span class="ot">=</span> data4[<span class="sc">-</span>outliers_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>31개 데이터 제거</p>
</section>
<section id="days가-너무-긴-혹은-짧은-데이터-삭제" class="level4">
<h4 class="anchored" data-anchor-id="days가-너무-긴-혹은-짧은-데이터-삭제">Days가 너무 긴 혹은 짧은 데이터 삭제</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data5<span class="sc">$</span>Days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/Days변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(data5<span class="sc">$</span>Days,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data5<span class="sc">$</span>Days)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(data5<span class="sc">$</span>Days,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data5<span class="sc">$</span>Days)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>outliers_days <span class="ot">=</span>data5<span class="sc">$</span>Days[(data5<span class="sc">$</span>Days<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data5<span class="sc">$</span>Days<span class="sc">&gt;</span>Up)]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>outliers_days</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 602 633 515 676 614 579 655 654 546 492 548 559 922 489 976 560 463 797 454
[20] 565 606 537</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>outliers_days_index <span class="ot">=</span> <span class="fu">which</span>((data5<span class="sc">$</span>Days<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data5<span class="sc">$</span>Days<span class="sc">&gt;</span>Up))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>outliers_days_index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  11  12  28  34  37  49  57  58 107 140 141 167 191 223 275 282 286 289 315
[20] 316 384 388</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>data6 <span class="ot">=</span> data5[<span class="sc">-</span>outliers_days_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>22개 제거</p>
</section>
<section id="firstdate에서-year가-너무-다른-데이터-삭제" class="level4">
<h4 class="anchored" data-anchor-id="firstdate에서-year가-너무-다른-데이터-삭제">FirstDate에서 Year가 너무 다른 데이터 삭제</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(data4<span class="sc">$</span>YearF)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "1920" "1988" "1989" "1990" "1991" "1992" "1993" "1994"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>outliers_YearF <span class="ot">=</span> data6<span class="sc">$</span>Days[data6<span class="sc">$</span>YearF<span class="sc">==</span><span class="st">"1920"</span>]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>outliers_YearF</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 113</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>outliers_YearF_index <span class="ot">=</span> <span class="fu">which</span>(data6<span class="sc">$</span>YearF<span class="sc">==</span><span class="st">"1920"</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>data7 <span class="ot">=</span> data6[<span class="sc">-</span>outliers_YearF_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>1개 제거</p>
</section>
<section id="너무-크거나-작은-면적interior-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-크거나-작은-면적interior-제거">너무 크거나 작은 면적(Interior) 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data7<span class="sc">$</span>Interior)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/Interior변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(data7<span class="sc">$</span>Interior,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data7<span class="sc">$</span>Interior)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(data7<span class="sc">$</span>Interior,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data7<span class="sc">$</span>Interior)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>outliers_int <span class="ot">=</span>data7<span class="sc">$</span>Interior[(data7<span class="sc">$</span>Interior<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data7<span class="sc">$</span>Interior<span class="sc">&gt;</span>Up)]</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>outliers_int</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2007 1882 1955 2249 3260 1824</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>outliers_int_index <span class="ot">=</span> <span class="fu">which</span>((data7<span class="sc">$</span>Interior<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data7<span class="sc">$</span>Interior<span class="sc">&gt;</span>Up))</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>data8 <span class="ot">=</span> data7[<span class="sc">-</span>outliers_int_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>6개 제거</p>
</section>
<section id="area-수준별-갯수-확인-10개-미만일경우-제거" class="level4">
<h4 class="anchored" data-anchor-id="area-수준별-갯수-확인-10개-미만일경우-제거">Area 수준별 갯수 확인 10개 미만일경우 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data8<span class="sc">$</span>Area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 AG  AH   C  CP   E  FP  HS   K   M   N  NW  PS  RA  RS  SH   W 
 11  34   2  22  18   2  71  14 103  13   5  15  36  14   6  29 </code></pre>
</div>
</div>
<p>C,FP,NW,SH</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>outliers_area <span class="ot">=</span>data8<span class="sc">$</span>Area[(data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"C"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"FP"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"NW"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"SH"</span>)]</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>outliers_area</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] C  FP SH SH SH SH SH SH FP NW NW NW NW C  NW
Levels: AG AH C CP E FP HS K M N NW PS RA RS SH W</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>outliers_area_index <span class="ot">=</span> <span class="fu">which</span>((data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"C"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"FP"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"NW"</span>) <span class="sc">|</span> (data8<span class="sc">$</span>Area<span class="sc">==</span><span class="st">"SH"</span>))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>data9 <span class="ot">=</span> data8[<span class="sc">-</span>outliers_area_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>15개 제거</p>
</section>
<section id="rc-01-갯수-확인-한쪽이-너무-적으면-제거" class="level4">
<h4 class="anchored" data-anchor-id="rc-01-갯수-확인-한쪽이-너무-적으면-제거">RC 0,1 갯수 확인 (한쪽이 너무 적으면 제거)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(data9<span class="sc">$</span>RC)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  0   1 
126 254 </code></pre>
</div>
</div>
<p>둘다 100개 이상의 데이터를 갖고 있으므로 한쪽 제거 안함</p>
</section>
<section id="너무-크거나-작은-tax-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-크거나-작은-tax-제거">너무 크거나 작은 Tax 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data9<span class="sc">$</span>Tax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/Tax%20변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(data9<span class="sc">$</span>Tax,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data9<span class="sc">$</span>Tax)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(data9<span class="sc">$</span>Tax,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(data9<span class="sc">$</span>Tax)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>outliers_tax <span class="ot">=</span>data9<span class="sc">$</span>Tax[(data9<span class="sc">$</span>Tax<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data9<span class="sc">$</span>Tax<span class="sc">&gt;</span>Up)]</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>outliers_tax</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3518 3734 3624 3363 3525 3465 3349 3774 3368</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>outliers_tax_index <span class="ot">=</span> <span class="fu">which</span>((data9<span class="sc">$</span>Tax<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (data9<span class="sc">$</span>Tax<span class="sc">&gt;</span>Up))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>dataA <span class="ot">=</span> data9[<span class="sc">-</span>outliers_tax_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>9개 제거</p>
</section>
<section id="너무-크거나-작은-condo-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-크거나-작은-condo-제거">너무 크거나 작은 Condo 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(data9<span class="sc">$</span>Condo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/Condo%20변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(dataA<span class="sc">$</span>Condo,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataA<span class="sc">$</span>Condo)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(dataA<span class="sc">$</span>Condo,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataA<span class="sc">$</span>Condo)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>outliers_Condo <span class="ot">=</span>dataA<span class="sc">$</span>Condo[(dataA<span class="sc">$</span>Condo<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataA<span class="sc">$</span>Condo<span class="sc">&gt;</span>Up)]</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>outliers_Condo</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 366 347 341 378 363 358 364 347 435 419 522 369 407</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>outliers_Condo_index <span class="ot">=</span> <span class="fu">which</span>((dataA<span class="sc">$</span>Condo<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataA<span class="sc">$</span>Condo<span class="sc">&gt;</span>Up))</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>dataB <span class="ot">=</span> dataA[<span class="sc">-</span>outliers_Condo_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>9개 제거</p>
</section>
<section id="너무-많거나-적은-rooms-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-많거나-적은-rooms-제거">너무 많거나 적은 Rooms 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dataB<span class="sc">$</span>Rooms)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/Rooms%20변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(dataB<span class="sc">$</span>Rooms,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataB<span class="sc">$</span>Rooms)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(dataB<span class="sc">$</span>Rooms,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataB<span class="sc">$</span>Rooms)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>outliers_Rooms <span class="ot">=</span>dataB<span class="sc">$</span>Rooms[(dataB<span class="sc">$</span>Rooms<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataB<span class="sc">$</span>Rooms<span class="sc">&gt;</span>Up)]</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>outliers_Rooms</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 8 7 7 7 7 7 8 7 7 7 7 7 7 7 2 7 2 7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>outliers_Rooms_index <span class="ot">=</span> <span class="fu">which</span>((dataB<span class="sc">$</span>Rooms<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataB<span class="sc">$</span>Rooms<span class="sc">&gt;</span>Up))</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>dataC <span class="ot">=</span> dataB[<span class="sc">-</span>outliers_Rooms_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>18개 제거</p>
</section>
<section id="너무-많거나-적은-bedrooms-bedperr-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-많거나-적은-bedrooms-bedperr-제거">너무 많거나 적은 BED/Rooms = BedPerR 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dataC<span class="sc">$</span>BedPerR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/BedPerR%20변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>제거 x</p>
</section>
<section id="너무-많거나-적은-bathrooms-제거" class="level4">
<h4 class="anchored" data-anchor-id="너무-많거나-적은-bathrooms-제거">너무 많거나 적은 BATH/Rooms 제거</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(dataC<span class="sc">$</span>BathPerR)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/BathPerR%20변수의%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>Lo <span class="ot">=</span> <span class="fu">quantile</span>(dataC<span class="sc">$</span>BathPerR,<span class="fl">0.25</span>)<span class="sc">-</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataC<span class="sc">$</span>BathPerR)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>Up <span class="ot">=</span> <span class="fu">quantile</span>(dataC<span class="sc">$</span>BathPerR,<span class="fl">0.75</span>)<span class="sc">+</span><span class="fl">1.5</span><span class="sc">*</span><span class="fu">IQR</span>(dataC<span class="sc">$</span>BathPerR)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>outliers_BathPerR <span class="ot">=</span>dataC<span class="sc">$</span>BathPerR[(dataC<span class="sc">$</span>BathPerR<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataC<span class="sc">$</span>BathPerR<span class="sc">&gt;</span>Up)]</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>outliers_BathPerR</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>outliers_BathPerR_index <span class="ot">=</span> <span class="fu">which</span>((dataC<span class="sc">$</span>BathPerR<span class="sc">&lt;</span>Lo) <span class="sc">|</span> (dataC<span class="sc">$</span>BathPerR<span class="sc">&gt;</span>Up))</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>dataD <span class="ot">=</span> dataC[<span class="sc">-</span>outliers_BathPerR_index,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>1개 제거</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>결과적으로 총 339개 관측치의 아래와 같은 데이터만 남았다.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dataD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  AddressNo AddressName Street Unit Area AreaCode Price1 Price2 SalePrice YearF
1        73     Allston     St    1   CP        4 109000 109000    106000  1993
2       239     Allston     St    2   CP        4 127000 127000    125000  1993
3        83       Amory     St    3    M        9 123000 100000     95000  1993
4       107      Antrim     St    1    M        9 219000 210000    206000  1991
6       135      Antrim     St    1    M        9 169000 152000    136500  1992
7        95      Antrim     St    3    M        9 245000 214900    202000  1992
  MonthF DateF  CloseDate Days Interior Bed Bath Rooms Condo  Tax RC   PrPerI
1     07    17 1993-10-22   97      834   2    1     4    70  490  0 127.0983
2     08    21 1993-10-22   62      850   2    1     5   100  923  1 147.0588
3     03    06 1993-09-30  208      730   2    1     4   185  575  0 130.1370
4     03    17 1991-08-23  159     1460   3    2     6   100 1582  1 141.0959
6     05    30 1992-09-23  116     1225   2    1     6   100 1698  1 111.4286
7     08    08 1993-01-15  160     1585   2    1     6   100 1402  1 127.4448
    BedPerR  BathPerR
1 0.5000000 0.2500000
2 0.4000000 0.2000000
3 0.5000000 0.2500000
4 0.5000000 0.3333333
6 0.3333333 0.1666667
7 0.3333333 0.1666667</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dataD<span class="sc">$</span>Area)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
AG AH  C CP  E FP HS  K  M  N NW PS RA RS SH  W 
10 31  0 20 10  0 67  9 93 13  0 14 34 14  0 24 </code></pre>
</div>
</div>
</section>
</section>
<section id="prperi-area-분산분석datad" class="level2">
<h2 class="anchored" data-anchor-id="prperi-area-분산분석datad">PrPerI ~ Area 분산분석(dataD)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>M2 <span class="ot">=</span> <span class="fu">aov</span>(PrPerI <span class="sc">~</span> Area, dataD)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(M2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: PrPerI
           Df Sum Sq Mean Sq F value    Pr(&gt;F)    
Area       11 181548 16504.4  23.869 &lt; 2.2e-16 ***
Residuals 327 226111   691.5                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Area의 모든 평균이 같다는 귀무가설을 기각했다.</p>
<p>등분산성을 확인해보자.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>ri <span class="ot">=</span> M2<span class="sc">$</span>residuals</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(ri <span class="sc">~</span> dataD<span class="sc">$</span>Area, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">"residuals"</span>, <span class="at">range=</span> <span class="fl">1.5</span>, <span class="at">boxwex =</span> <span class="fl">0.4</span>) <span class="co"># boxwex는 상자폭을 0.4배 줄이는 옵션</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/M2(dataD)%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">ggline</span>(dataD, <span class="at">x =</span> <span class="st">"Area"</span>, <span class="at">y =</span> <span class="st">"PrPerI"</span>, <span class="at">add =</span> <span class="fu">c</span>(<span class="st">"mean_sd"</span>, <span class="st">"jitter"</span>), </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"지역별 평단가"</span>, <span class="at">ylab =</span><span class="st">"PrPerI"</span>, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ggtheme =</span> <span class="fu">theme_classic</span>(<span class="at">base_family =</span> <span class="st">"Noto Sans KR"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/dataD의%20등분산성%20그래프%20확인%20ggline-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>여전히 Area별로 분포가 크게 다른 것으로 보아 등분산성을 만족하지 않는 것으로 보인다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(M2<span class="sc">$</span>residuals),<span class="at">xlab =</span> <span class="st">""</span>,<span class="at">main =</span> <span class="st">"residual distribution"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/M2(PrPerI%20~%20Area)%20잔차분포%20확인%20-%20정규성%20검증-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>잔차의 분포가 상당히 정규성을 띄는 분포를 보인다.</p>
<p>그러므로 bartlett test를 이용하여 등분산성을 검정한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bartlett.test</span>(PrPerI <span class="sc">~</span> Area, dataD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Bartlett test of homogeneity of variances

data:  PrPerI by Area
Bartlett's K-squared = 32.215, df = 11, p-value = 0.0007043</code></pre>
</div>
</div>
<p>p값이(<code>0.0007043</code>) 등분산성을 만족한다는 귀무가설을 기각하고 있기 때문에 등분산성을 갖고 있다고 볼 수 없다.</p>
<p>때문에 비모수검정을 진행한다.</p>
<section id="비모수검정" class="level4">
<h4 class="anchored" data-anchor-id="비모수검정">비모수검정</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">kruskal.test</span>(PrPerI <span class="sc">~</span> Area, dataD)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Kruskal-Wallis rank sum test

data:  PrPerI by Area
Kruskal-Wallis chi-squared = 147.4, df = 11, p-value &lt; 2.2e-16</code></pre>
</div>
</div>
<p>p-value가 매우 작으므로 그룹간 차이가 존재하는 것으로 판단할 수 있다.</p>
<p>사후검정, 다중비교를 진행한다. 작은 차이라도 찾아내기 위해 fisher lsd 검정과 같이 개별 유의수준을 통제하는 방식으로 wilcoxon 검정을 사용한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairwise.wilcox.test</span>(dataD<span class="sc">$</span>PrPerI, dataD<span class="sc">$</span>Area, <span class="at">p.adjust.method =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pairwise comparisons using Wilcoxon rank sum exact test 

data:  dataD$PrPerI and dataD$Area 

   AG      AH      CP      E       HS      K       M       N       PS     
AH 0.00300 -       -       -       -       -       -       -       -      
CP 0.00032 1.7e-12 -       -       -       -       -       -       -      
E  2.2e-05 0.00028 6.7e-08 -       -       -       -       -       -      
HS 0.01067 0.77744 5.0e-10 0.00015 -       -       -       -       -      
K  0.05348 0.13820 0.00204 0.90483 0.10104 -       -       -       -      
M  0.92457 1.7e-07 8.8e-07 5.5e-07 4.3e-08 0.00577 -       -       -      
N  0.00412 1.0e-07 0.16944 1.7e-06 9.4e-07 0.00107 0.00018 -       -      
PS 0.05591 0.00012 0.87660 7.1e-06 6.2e-05 0.00857 0.01826 0.06094 -      
RA 0.00059 0.19717 1.2e-12 0.00242 0.09618 0.17745 3.1e-10 2.0e-09 2.6e-05
RS 0.31192 0.00012 0.09687 2.0e-06 0.00035 0.01297 0.19751 0.01933 0.37609
W  0.36044 2.2e-05 0.00481 6.1e-08 3.4e-05 0.00962 0.29234 0.00129 0.09953
   RA      RS     
AH -       -      
CP -       -      
E  -       -      
HS -       -      
K  -       -      
M  -       -      
N  -       -      
PS -       -      
RA -       -      
RS 1.8e-05 -      
W  2.2e-07 0.66475

P value adjustment method: none </code></pre>
</div>
</div>
<p>wilcoxon 검정을 기반으로 두 변수간 p값이 0.1 이하인 경우 붉은 타일이 나타나도록 했다.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/pairwise.wilcox.test%20기반%20타일플롯%20그리기-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>dataE <span class="ot">=</span> dataD</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Area 변수의 순서를 변경</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>dataE<span class="sc">$</span>Area <span class="ot">&lt;-</span> <span class="fu">factor</span>(dataD<span class="sc">$</span>Area, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"E"</span>,<span class="st">"K"</span>,<span class="st">"RA"</span>,<span class="st">"AH"</span>, <span class="st">"HS"</span>,<span class="st">"AG"</span> ,<span class="st">"M"</span>,<span class="st">"W"</span>,<span class="st">"RS"</span>,<span class="st">"PS"</span>,<span class="st">"CP"</span>,<span class="st">"N"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/dataE의%20Area에%20따른%20지역별%20평단가%20ggline-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>위 분산분석결과를 통해 평단가가 차이 나지 않는 지역을 묶은 새로운 Zone 변수 생성</p>
<p>1Zone = “E” 2Zone = “K” 3Zone = “RA” 4Zone = “AH”,“HS” 5Zone = “AG”,“M”,“W”,“RS” 6Zone = “PS”,“CP” 7Zone = “N”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>dataF <span class="ot">=</span> dataE</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dataF)){</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"E"</span>){</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"1Zone"</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"K"</span>){</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"2Zone"</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"RA"</span>){</span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"3Zone"</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"AH"</span><span class="sc">|</span>dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"HS"</span>){</span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"4Zone"</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"AG"</span><span class="sc">|</span>dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"M"</span><span class="sc">|</span>dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"W"</span><span class="sc">|</span>dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"RS"</span>){</span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"5Zone"</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"PS"</span><span class="sc">|</span>dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"CP"</span>){</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"6Zone"</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataF<span class="sc">$</span>Area[i] <span class="sc">==</span> <span class="st">"N"</span>){</span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>    dataF<span class="sc">$</span>Zone[i] <span class="ot">=</span> <span class="st">"7Zone"</span></span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>dataF<span class="sc">$</span>Zone <span class="ot">=</span> <span class="fu">as.factor</span>(dataF<span class="sc">$</span>Zone)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="prperi-yearf-분산분석dataf" class="level2">
<h2 class="anchored" data-anchor-id="prperi-yearf-분산분석dataf">PrPerI ~ YearF 분산분석(dataF)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>M3 <span class="ot">=</span> <span class="fu">aov</span>(PrPerI <span class="sc">~</span> YearF, dataF)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(M3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: PrPerI
           Df Sum Sq Mean Sq F value  Pr(&gt;F)  
YearF       5  15049  3009.8  2.5529 0.02763 *
Residuals 333 392610  1179.0                  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>YearF에 따른 PrPerI의 모든 평균이 같다는 귀무가설을 기각했다.</p>
<p>등분산성을 확인해보자.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>ri <span class="ot">=</span> M3<span class="sc">$</span>residuals</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(ri <span class="sc">~</span> dataF<span class="sc">$</span>YearF, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ylab =</span> <span class="st">"residuals"</span>, <span class="at">range=</span> <span class="fl">1.5</span>, <span class="at">boxwex =</span> <span class="fl">0.4</span>) <span class="co"># boxwex는 상자폭을 0.4배 줄이는 옵션</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/M3(dataF)%20잔차%20boxplot%20확인-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>ggpubr<span class="sc">::</span><span class="fu">ggline</span>(dataF, <span class="at">x =</span> <span class="st">"YearF"</span>, <span class="at">y =</span> <span class="st">"PrPerI"</span>, <span class="at">add =</span> <span class="fu">c</span>(<span class="st">"mean_sd"</span>, <span class="st">"jitter"</span>), </span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"연도별 평단가"</span>, <span class="at">ylab =</span><span class="st">"PrPerI"</span>, <span class="at">xlab =</span> <span class="st">""</span>, <span class="at">ggtheme =</span> <span class="fu">theme_classic</span>(<span class="at">base_family =</span> <span class="st">"Noto Sans KR"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/dataF의%20등분산성%20그래프%20확인%20ggline-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>여전히 Area별로 분포가 크게 다른 것으로 보아 등분산성을 만족하지 않는 것으로 보인다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(M3<span class="sc">$</span>residuals),<span class="at">xlab =</span> <span class="st">""</span>,<span class="at">main =</span> <span class="st">"residual distribution"</span>, <span class="at">lwd =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/잔차분포%20확인%20-%20정규성%20검증-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>비교적 종모양을 띄고 있으나 비대칭이 Area 분산분석보다 심하므로, levene test를 하는 편이 좋아 보인다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>car<span class="sc">::</span><span class="fu">leveneTest</span>(M3) <span class="co"># 디폴트 center = median</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Levene's Test for Homogeneity of Variance (center = median)
       Df F value Pr(&gt;F)
group   5  1.2742 0.2746
      333               </code></pre>
</div>
</div>
<p>등분산성을 만족하고 있다는 결과가 나왔으므로, 검정력이 좋은 Fisher의 LSD를 진행한다.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>result <span class="ot">=</span> DescTools<span class="sc">::</span><span class="fu">PostHocTest</span>(M3,<span class="at">method =</span> <span class="st">"lsd"</span>)</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  Posthoc multiple comparisons of means : Fisher LSD 
    95% family-wise confidence level

$YearF
                diff     lwr.ci     upr.ci   pval    
1990-1989 -13.120647 -31.238230  4.9969356 0.1552    
1991-1989 -22.493556 -40.343791 -4.6433215 0.0137 *  
1992-1989 -19.332317 -37.060428 -1.6042061 0.0327 *  
1993-1989 -16.309274 -33.471950  0.8534008 0.0625 .  
1994-1989  23.310869 -14.025576 60.6473144 0.2203    
1991-1990  -9.372910 -21.203586  2.4577671 0.1201    
1992-1990  -6.211670 -17.857268  5.4339273 0.2948    
1993-1990  -3.188628 -13.953916  7.5766614 0.5605    
1994-1990  36.431516   1.569730 71.2933027 0.0406 *  
1992-1991   3.161239  -8.063913 14.3863911 0.5800    
1993-1991   6.184282  -4.124721 16.4932846 0.2388    
1994-1991  45.804426  11.080828 80.5280236 0.0099 ** 
1993-1992   3.023043  -7.073024 13.1191097 0.5563    
1994-1992  42.643186   7.982210 77.3041628 0.0160 *  
1994-1993  39.620144   5.244938 73.9953497 0.0240 *  

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">LSD.test</span>(M3, <span class="st">"YearF"</span>, <span class="at">p.adj =</span> <span class="st">"none"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Team9_files/figure-html/M3에%20대한%20fisher%20lsd%20사후%20검정을%20그래프로%20나타냄-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>위 분산분석결과를 통해 평단가가 차이 나지 않는 연도를 묶은 새로운 YearM 변수 생성</p>
<p>“1994” = “1994” “1989” = “1989” “1990,93” = “1990”,“1993” “1991,92” = “1991”,“1992”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>dataG <span class="ot">=</span> dataF</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(dataG)){</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1994"</span>){</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    dataG<span class="sc">$</span>YearM[i] <span class="ot">=</span> <span class="st">"1994"</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1989"</span>){</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    dataG<span class="sc">$</span>YearM[i] <span class="ot">=</span> <span class="st">"1989"</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>    } </span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1990"</span><span class="sc">|</span>dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1993"</span>){</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a>    dataG<span class="sc">$</span>YearM[i] <span class="ot">=</span> <span class="st">"1990,93"</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span>(dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1991"</span><span class="sc">|</span>dataG<span class="sc">$</span>YearF[i] <span class="sc">==</span> <span class="st">"1992"</span>){</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>    dataG<span class="sc">$</span>YearM[i] <span class="ot">=</span> <span class="st">"1991,92"</span></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>    }  </span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>dataG<span class="sc">$</span>YearM <span class="ot">=</span> <span class="fu">as.factor</span>(dataG<span class="sc">$</span>YearM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>